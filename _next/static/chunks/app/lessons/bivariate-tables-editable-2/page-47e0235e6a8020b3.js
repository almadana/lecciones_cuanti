(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[686],{2352:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(693),n=a(376),i=a(8538),s=a(7025),c=a(5155),l=a(2115),o=a(7947),d=function(e){var t=e.reduce(function(e,t){return e+t.value},0),a=e.reduce(function(e,t){return e[t.row]=(e[t.row]||0)+t.value,e},{}),i=e.reduce(function(e,t){return e[t.col]=(e[t.col]||0)+t.value,e},{});return e.map(function(e){return(0,n._)((0,r._)({},e),{rowPercentage:e.value/a[e.row]*100,colPercentage:e.value/i[e.col]*100,totalPercentage:e.value/t*100})})},u=[{row:"Primaria",col:"No satisfecho",value:89},{row:"Primaria",col:"Satisfecho",value:287},{row:"Secundaria",col:"No satisfecho",value:134},{row:"Secundaria",col:"Satisfecho",value:456},{row:"Universidad",col:"No satisfecho",value:44},{row:"Universidad",col:"Satisfecho",value:189}];function m(){var e=(0,i._)((0,l.useState)(u),2),t=e[0],a=e[1],m=(0,i._)((0,l.useState)(d(u)),2),x=m[0],f=m[1],p=(0,i._)((0,l.useState)("row"),2),h=p[0],g=p[1],v=(0,i._)((0,l.useState)(""),2),w=v[0],j=v[1],y=(0,i._)((0,l.useState)(""),2),N=y[0],b=y[1],_=(0,l.useRef)(null),k=Array.from(new Set(x.map(function(e){return e.row}))),A=Array.from(new Set(x.map(function(e){return e.col}))),E=k.map(function(e){return{row:e,total:x.filter(function(t){return t.row===e}).reduce(function(e,t){return e+t.value},0)}}),P=A.map(function(e){return{col:e,total:x.filter(function(t){return t.col===e}).reduce(function(e,t){return e+t.value},0)}}),z=x.reduce(function(e,t){return e+t.value},0),C=function(e,i,s){var c=t.map(function(t){return t.row===e&&t.col===i?(0,n._)((0,r._)({},t),{value:s}):t});a(c),f(d(c))},S=function(e){var r=t.filter(function(t){return t.row!==e});a(r),f(d(r))},F=function(e){var r=t.filter(function(t){return t.col!==e});a(r),f(d(r))};return(0,l.useEffect)(function(){if(_.current){o.Ltv(_.current).selectAll("*").remove();var e={top:40,right:120,bottom:60,left:150},t=800-e.left-e.right,a=400-e.top-e.bottom,n=o.Ltv(_.current).attr("width",t+e.left+e.right).attr("height",a+e.top+e.bottom).append("g").attr("transform","translate(".concat(e.left,",").concat(e.top,")")),i="row"===h?o.t$z().keys(A).value(function(e,t){var a=x.find(function(a){return a.row===e._row&&a.col===t});return(null==a?void 0:a.rowPercentage)||0})(k.map(function(e){return(0,r._)({_row:e},Object.fromEntries(A.map(function(e){return[e,0]})))})):o.t$z().keys(k).value(function(e,t){var a=x.find(function(a){return a.row===t&&a.col===e._col});return(null==a?void 0:a.colPercentage)||0})(A.map(function(e){return(0,r._)({_col:e},Object.fromEntries(k.map(function(e){return[e,0]})))}));if("row"===h){var s=o.WH().range([0,a]).domain(k).padding(.1),c=o.m4Y().range([0,t]).domain([0,100]),l=o.UMr().domain(A).range(o.Ks0);n.append("g").call(o.V4s(s)),n.append("g").attr("transform","translate(0,".concat(a,")")).call(o.l78(c).ticks(10).tickFormat(function(e){return"".concat(e,"%")})),n.append("g").selectAll("g").data(i).enter().append("g").attr("fill",function(e,t){return l(A[t])||"#ccc"}).selectAll("rect").data(function(e){return e}).enter().append("rect").attr("y",function(e){return s(e.data._row)}).attr("x",function(e){return c(e[0])}).attr("width",function(e){return c(e[1])-c(e[0])}).attr("height",s.bandwidth());var d=n.append("g").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","start").selectAll("g").data(A).enter().append("g").attr("transform",function(e,a){return"translate(".concat(t+10,",").concat(20*a+10,")")});d.append("rect").attr("x",0).attr("width",15).attr("height",15).attr("fill",function(e){return l(e)}),d.append("text").attr("x",20).attr("y",7.5).attr("dy","0.32em").text(function(e){return e})}else{var u=o.WH().range([0,t]).domain(A).padding(.1),m=o.m4Y().range([a,0]).domain([0,100]),f=o.UMr().domain(k).range(o.Ks0);n.append("g").attr("transform","translate(0,".concat(a,")")).call(o.l78(u)).selectAll("text").attr("transform","rotate(-45)").style("text-anchor","end"),n.append("g").call(o.V4s(m).ticks(10).tickFormat(function(e){return"".concat(e,"%")})),n.append("g").selectAll("g").data(i).enter().append("g").attr("fill",function(e,t){return f(k[t])||"#ccc"}).selectAll("rect").data(function(e){return e}).enter().append("rect").attr("x",function(e){return u(e.data._col)}).attr("y",function(e){return m(e[1])}).attr("height",function(e){return m(e[0])-m(e[1])}).attr("width",u.bandwidth());var p=n.append("g").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","start").selectAll("g").data(k).enter().append("g").attr("transform",function(e,a){return"translate(".concat(t+10,",").concat(20*a+10,")")});p.append("rect").attr("x",0).attr("width",15).attr("height",15).attr("fill",function(e){return f(e)}),p.append("text").attr("x",20).attr("y",7.5).attr("dy","0.32em").text(function(e){return e})}}},[x,k,A,h]),(0,c.jsx)("div",{className:"py-8",children:(0,c.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Editor Avanzado de Tablas Bivariadas"}),(0,c.jsx)("p",{className:"mt-4 text-lg text-gray-500",children:"Crea y modifica tablas bivariadas a\xf1adiendo o eliminando categor\xedas"})]}),(0,c.jsxs)("div",{className:"mt-12",children:[(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gesti\xf3n de Categor\xedas"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"A\xf1adir/Eliminar Filas (Nivel Educativo)"}),(0,c.jsxs)("div",{className:"flex space-x-2 mb-4",children:[(0,c.jsx)("input",{type:"text",value:w,onChange:function(e){return j(e.target.value)},placeholder:"Nuevo nivel educativo",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),(0,c.jsx)("button",{onClick:function(){if(!(!w.trim()||k.includes(w.trim()))){var e=w.trim(),r=(0,s._)(t).concat((0,s._)(A.map(function(t){return{row:e,col:t,value:0}})));a(r),f(d(r)),j("")}},className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"A\xf1adir"})]}),(0,c.jsx)("div",{className:"space-y-2",children:k.map(function(e){return(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("span",{children:e}),(0,c.jsx)("button",{onClick:function(){return S(e)},className:"text-red-600 hover:text-red-800",children:"Eliminar"})]},e)})})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"A\xf1adir/Eliminar Columnas (Satisfacci\xf3n)"}),(0,c.jsxs)("div",{className:"flex space-x-2 mb-4",children:[(0,c.jsx)("input",{type:"text",value:N,onChange:function(e){return b(e.target.value)},placeholder:"Nuevo nivel de satisfacci\xf3n",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),(0,c.jsx)("button",{onClick:function(){if(!(!N.trim()||A.includes(N.trim()))){var e=N.trim(),r=(0,s._)(t).concat((0,s._)(k.map(function(t){return{row:t,col:e,value:0}})));a(r),f(d(r)),b("")}},className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"A\xf1adir"})]}),(0,c.jsx)("div",{className:"space-y-2",children:A.map(function(e){return(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("span",{children:e}),(0,c.jsx)("button",{onClick:function(){return F(e)},className:"text-red-600 hover:text-red-800",children:"Eliminar"})]},e)})})]})]})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Frecuencias Absolutas"}),(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nivel Educativo"}),A.map(function(e){return(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e},e)}),(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),(0,c.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[k.map(function(e){var t;return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e}),A.map(function(t){var a=x.find(function(a){return a.row===e&&a.col===t});return(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,c.jsx)("input",{type:"number",value:(null==a?void 0:a.value)||0,onChange:function(a){return C(e,t,parseInt(a.target.value)||0)},className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"0"})},t)}),(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:null==(t=E.find(function(t){return t.row===e}))?void 0:t.total})]},e)}),(0,c.jsxs)("tr",{className:"bg-gray-50",children:[(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Total"}),A.map(function(e){var t;return(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:null==(t=P.find(function(t){return t.col===e}))?void 0:t.total},e)}),(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:z})]})]})]})})]}),(0,c.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-lg p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Frecuencias Porcentuales"}),(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nivel Educativo"}),A.map(function(e){return(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e},e)})]})}),(0,c.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(function(e){return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e}),A.map(function(t){var a=x.find(function(a){return a.row===e&&a.col===t});return(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"row"===h?"".concat(null==a?void 0:a.rowPercentage.toFixed(1),"%"):"".concat(null==a?void 0:a.colPercentage.toFixed(1),"%")},t)})]},e)})})]})})]}),(0,c.jsxs)("div",{className:"mt-8",children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Visualizaci\xf3n"}),(0,c.jsxs)("div",{className:"mt-4 flex items-center space-x-4",children:[(0,c.jsx)("label",{className:"text-sm text-gray-600",children:"Normalizaci\xf3n:"}),(0,c.jsxs)("select",{value:h,onChange:function(e){return g(e.target.value)},className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[(0,c.jsx)("option",{value:"row",children:"Por filas"}),(0,c.jsx)("option",{value:"column",children:"Por columnas"})]})]}),(0,c.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["El gr\xe1fico muestra la distribuci\xf3n porcentual ","row"===h?"por nivel educativo":"por nivel de satisfacci\xf3n"]}),(0,c.jsx)("div",{className:"mt-4 flex justify-center",children:(0,c.jsx)("svg",{ref:_})})]}),(0,c.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-lg p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Instrucciones"}),(0,c.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-gray-600",children:[(0,c.jsx)("li",{children:"Puedes a\xf1adir nuevas categor\xedas tanto para niveles educativos como para niveles de satisfacci\xf3n"}),(0,c.jsx)("li",{children:'Para eliminar una categor\xeda, usa el bot\xf3n "Eliminar" junto a ella'}),(0,c.jsx)("li",{children:"Modifica las frecuencias en la tabla de valores absolutos"}),(0,c.jsx)("li",{children:"Los porcentajes y la visualizaci\xf3n se actualizar\xe1n autom\xe1ticamente"}),(0,c.jsx)("li",{children:"Cambia entre normalizaci\xf3n por filas o columnas para ver diferentes perspectivas de los datos"}),(0,c.jsxs)("li",{children:["La visualizaci\xf3n se adapta autom\xe1ticamente:",(0,c.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,c.jsx)("li",{children:"Barras horizontales cuando se normaliza por filas"}),(0,c.jsx)("li",{children:"Barras verticales cuando se normaliza por columnas"})]})]})]})]})]})]})})}},6152:(e,t,a)=>{Promise.resolve().then(a.bind(a,2352))}},e=>{var t=t=>e(e.s=t);e.O(0,[947,441,684,358],()=>t(6152)),_N_E=e.O()}]);