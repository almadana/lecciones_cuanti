(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[686],{2352:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(693),n=r(376),i=r(8538),s=r(7025),c=r(5155),o=r(2115),l=r(2647),d=r(9578),u=function(e){var t=e.reduce(function(e,t){return e+t.value},0),r=e.reduce(function(e,t){return e[t.row]=(e[t.row]||0)+t.value,e},{}),i=e.reduce(function(e,t){return e[t.col]=(e[t.col]||0)+t.value,e},{});return e.map(function(e){return(0,n._)((0,a._)({},e),{rowPercentage:e.value/r[e.row]*100,colPercentage:e.value/i[e.col]*100,totalPercentage:e.value/t*100})})},m=[{row:"Primaria",col:"No satisfecho",value:89},{row:"Primaria",col:"Satisfecho",value:287},{row:"Secundaria",col:"No satisfecho",value:134},{row:"Secundaria",col:"Satisfecho",value:456},{row:"Universidad",col:"No satisfecho",value:44},{row:"Universidad",col:"Satisfecho",value:189}];function x(){var e=(0,i._)((0,o.useState)(m),2),t=e[0],r=e[1],x=(0,i._)((0,o.useState)(u(m)),2),f=x[0],p=x[1],h=(0,i._)((0,o.useState)("row"),2),g=h[0],v=h[1],j=(0,i._)((0,o.useState)(""),2),w=j[0],y=j[1],N=(0,i._)((0,o.useState)(""),2),b=N[0],k=N[1],_=(0,o.useRef)(null),A=Array.from(new Set(f.map(function(e){return e.row}))),C=Array.from(new Set(f.map(function(e){return e.col}))),P=A.map(function(e){return{row:e,total:f.filter(function(t){return t.row===e}).reduce(function(e,t){return e+t.value},0)}}),S=C.map(function(e){return{col:e,total:f.filter(function(t){return t.col===e}).reduce(function(e,t){return e+t.value},0)}}),E=f.reduce(function(e,t){return e+t.value},0),z=function(e,i,s){var c=t.map(function(t){return t.row===e&&t.col===i?(0,n._)((0,a._)({},t),{value:s}):t});r(c),p(u(c))},L=function(e){var a=t.filter(function(t){return t.row!==e});r(a),p(u(a))},U=function(e){var a=t.filter(function(t){return t.col!==e});r(a),p(u(a))};return(0,o.useEffect)(function(){if(_.current){l.Ltv(_.current).selectAll("*").remove();var e={top:40,right:120,bottom:60,left:150},t=800-e.left-e.right,r=400-e.top-e.bottom,n=l.Ltv(_.current).attr("width",t+e.left+e.right).attr("height",r+e.top+e.bottom).append("g").attr("transform","translate(".concat(e.left,",").concat(e.top,")")),i="row"===g?l.t$z().keys(C).value(function(e,t){var r=f.find(function(r){return r.row===e._row&&r.col===t});return(null==r?void 0:r.rowPercentage)||0})(A.map(function(e){return(0,a._)({_row:e},Object.fromEntries(C.map(function(e){return[e,0]})))})):l.t$z().keys(A).value(function(e,t){var r=f.find(function(r){return r.row===t&&r.col===e._col});return(null==r?void 0:r.colPercentage)||0})(C.map(function(e){return(0,a._)({_col:e},Object.fromEntries(A.map(function(e){return[e,0]})))}));if("row"===g){var s=l.WH().range([0,r]).domain(A).padding(.1),c=l.m4Y().range([0,t]).domain([0,100]),o=l.UMr().domain(C).range(l.Ks0);n.append("g").call(l.V4s(s)),n.append("g").attr("transform","translate(0,".concat(r,")")).call(l.l78(c).ticks(10).tickFormat(function(e){return"".concat(e,"%")})),n.append("g").selectAll("g").data(i).enter().append("g").attr("fill",function(e,t){return o(C[t])||"#ccc"}).selectAll("rect").data(function(e){return e}).enter().append("rect").attr("y",function(e){return s(e.data._row)}).attr("x",function(e){return c(e[0])}).attr("width",function(e){return c(e[1])-c(e[0])}).attr("height",s.bandwidth());var d=n.append("g").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","start").selectAll("g").data(C).enter().append("g").attr("transform",function(e,r){return"translate(".concat(t+10,",").concat(20*r+10,")")});d.append("rect").attr("x",0).attr("width",15).attr("height",15).attr("fill",function(e){return o(e)}),d.append("text").attr("x",20).attr("y",7.5).attr("dy","0.32em").text(function(e){return e})}else{var u=l.WH().range([0,t]).domain(C).padding(.1),m=l.m4Y().range([r,0]).domain([0,100]),x=l.UMr().domain(A).range(l.Ks0);n.append("g").attr("transform","translate(0,".concat(r,")")).call(l.l78(u)).selectAll("text").attr("transform","rotate(-45)").style("text-anchor","end"),n.append("g").call(l.V4s(m).ticks(10).tickFormat(function(e){return"".concat(e,"%")})),n.append("g").selectAll("g").data(i).enter().append("g").attr("fill",function(e,t){return x(A[t])||"#ccc"}).selectAll("rect").data(function(e){return e}).enter().append("rect").attr("x",function(e){return u(e.data._col)}).attr("y",function(e){return m(e[1])}).attr("height",function(e){return m(e[0])-m(e[1])}).attr("width",u.bandwidth());var p=n.append("g").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","start").selectAll("g").data(A).enter().append("g").attr("transform",function(e,r){return"translate(".concat(t+10,",").concat(20*r+10,")")});p.append("rect").attr("x",0).attr("width",15).attr("height",15).attr("fill",function(e){return x(e)}),p.append("text").attr("x",20).attr("y",7.5).attr("dy","0.32em").text(function(e){return e})}}},[f,A,C,g]),(0,c.jsxs)("div",{className:"py-8",children:[(0,c.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("h1",{className:"text-3xl font-bold text-negro bg-morado-claro p-4 rounded-lg inline-block",children:"Editor Avanzado de Tablas 5/5"}),(0,c.jsx)("p",{className:"mt-4 text-lg text-gray-600",children:"Crea y modifica tablas bivariadas a\xf1adiendo o eliminando categor\xedas"})]}),(0,c.jsxs)("div",{className:"mt-12",children:[(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gesti\xf3n de Categor\xedas"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"A\xf1adir/Eliminar Filas (Nivel Educativo)"}),(0,c.jsxs)("div",{className:"flex space-x-2 mb-4",children:[(0,c.jsx)("input",{type:"text",value:w,onChange:function(e){return y(e.target.value)},placeholder:"Nuevo nivel educativo",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),(0,c.jsx)("button",{onClick:function(){if(!(!w.trim()||A.includes(w.trim()))){var e=w.trim(),a=(0,s._)(t).concat((0,s._)(C.map(function(t){return{row:e,col:t,value:0}})));r(a),p(u(a)),y("")}},className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"A\xf1adir"})]}),(0,c.jsx)("div",{className:"space-y-2",children:A.map(function(e){return(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("span",{children:e}),(0,c.jsx)("button",{onClick:function(){return L(e)},className:"text-red-600 hover:text-red-800",children:"Eliminar"})]},e)})})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"A\xf1adir/Eliminar Columnas (Satisfacci\xf3n)"}),(0,c.jsxs)("div",{className:"flex space-x-2 mb-4",children:[(0,c.jsx)("input",{type:"text",value:b,onChange:function(e){return k(e.target.value)},placeholder:"Nuevo nivel de satisfacci\xf3n",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),(0,c.jsx)("button",{onClick:function(){if(!(!b.trim()||C.includes(b.trim()))){var e=b.trim(),a=(0,s._)(t).concat((0,s._)(A.map(function(t){return{row:t,col:e,value:0}})));r(a),p(u(a)),k("")}},className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"A\xf1adir"})]}),(0,c.jsx)("div",{className:"space-y-2",children:C.map(function(e){return(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("span",{children:e}),(0,c.jsx)("button",{onClick:function(){return U(e)},className:"text-red-600 hover:text-red-800",children:"Eliminar"})]},e)})})]})]})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Frecuencias Absolutas"}),(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nivel Educativo"}),C.map(function(e){return(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e},e)}),(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),(0,c.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[A.map(function(e){var t;return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e}),C.map(function(t){var r=f.find(function(r){return r.row===e&&r.col===t});return(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,c.jsx)("input",{type:"number",value:(null==r?void 0:r.value)||0,onChange:function(r){return z(e,t,parseInt(r.target.value)||0)},className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"0"})},t)}),(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:null==(t=P.find(function(t){return t.row===e}))?void 0:t.total})]},e)}),(0,c.jsxs)("tr",{className:"bg-gray-50",children:[(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Total"}),C.map(function(e){var t;return(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:null==(t=S.find(function(t){return t.col===e}))?void 0:t.total},e)}),(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:E})]})]})]})})]}),(0,c.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-lg p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Frecuencias Porcentuales"}),(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nivel Educativo"}),C.map(function(e){return(0,c.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e},e)})]})}),(0,c.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(function(e){return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e}),C.map(function(t){var r=f.find(function(r){return r.row===e&&r.col===t});return(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"row"===g?"".concat(null==r?void 0:r.rowPercentage.toFixed(1),"%"):"".concat(null==r?void 0:r.colPercentage.toFixed(1),"%")},t)})]},e)})})]})})]}),(0,c.jsxs)("div",{className:"mt-8",children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Visualizaci\xf3n"}),(0,c.jsxs)("div",{className:"mt-4 flex items-center space-x-4",children:[(0,c.jsx)("label",{className:"text-sm text-gray-600",children:"Normalizaci\xf3n:"}),(0,c.jsxs)("select",{value:g,onChange:function(e){return v(e.target.value)},className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[(0,c.jsx)("option",{value:"row",children:"Por filas"}),(0,c.jsx)("option",{value:"column",children:"Por columnas"})]})]}),(0,c.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["El gr\xe1fico muestra la distribuci\xf3n porcentual ","row"===g?"por nivel educativo":"por nivel de satisfacci\xf3n"]}),(0,c.jsx)("div",{className:"mt-4 flex justify-center",children:(0,c.jsx)("svg",{ref:_})})]}),(0,c.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-lg p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Instrucciones"}),(0,c.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-gray-600",children:[(0,c.jsx)("li",{children:"Puedes a\xf1adir nuevas categor\xedas tanto para niveles educativos como para niveles de satisfacci\xf3n"}),(0,c.jsx)("li",{children:'Para eliminar una categor\xeda, usa el bot\xf3n "Eliminar" junto a ella'}),(0,c.jsx)("li",{children:"Modifica las frecuencias en la tabla de valores absolutos"}),(0,c.jsx)("li",{children:"Los porcentajes y la visualizaci\xf3n se actualizar\xe1n autom\xe1ticamente"}),(0,c.jsx)("li",{children:"Cambia entre normalizaci\xf3n por filas o columnas para ver diferentes perspectivas de los datos"}),(0,c.jsxs)("li",{children:["La visualizaci\xf3n se adapta autom\xe1ticamente:",(0,c.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,c.jsx)("li",{children:"Barras horizontales cuando se normaliza por filas"}),(0,c.jsx)("li",{children:"Barras verticales cuando se normaliza por columnas"})]})]})]})]})]})]}),(0,c.jsx)(d.A,{currentStep:5,totalSteps:5,previousUrl:"/lessons/bivariate-tables-editable",showPrevious:!0,nextUrl:"/lessons/correlation"})]})}},6152:(e,t,r)=>{Promise.resolve().then(r.bind(r,2352))},9578:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(5155),n=r(5695);function i(e){var t=e.currentStep,r=e.totalSteps,i=e.onPrevious,s=e.onNext,c=e.previousUrl,o=e.nextUrl,l=e.showPrevious,d=e.showNext,u=(0,n.useRouter)();return(0,a.jsxs)("section",{className:"flex justify-between items-center py-8 border-t border-morado-claro",children:[void 0===l||l?(0,a.jsxs)("button",{onClick:function(){i?i():c&&u.push(c)},className:"flex items-center gap-2 px-6 py-3 bg-morado-oscuro text-blanco rounded-lg hover:bg-[#7a6bc8] transition-colors",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,a.jsx)("span",{children:"Anterior"})]}):(0,a.jsx)("div",{}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[t," de ",r]}),void 0===d||d?(0,a.jsxs)("button",{onClick:function(){s?s():o&&u.push(o)},className:"flex items-center gap-2 px-6 py-3 bg-verde-claro text-negro rounded-lg hover:bg-[#8ae671] transition-colors",children:[(0,a.jsx)("span",{children:"Siguiente"}),(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}):(0,a.jsx)("div",{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[677,441,684,358],()=>t(6152)),_N_E=e.O()}]);